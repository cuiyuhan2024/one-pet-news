if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}const a=(e,t)=>{const a=e.__vccOpts||e;for(const[n,o]of t)a[n]=o;return a};const n=a({data:()=>({news:[]}),onLoad(){this.fetchNewsList()},methods:{fetchNewsList(){uni.request({url:"https://m1.apifoxmock.com/m1/7449493-7183823-default/api/cuiyuhan/news",method:"GET",success:e=>{const t=e.data&&e.data.newsList||[];this.news=t.map((e=>({id:e.id,title:e.title,date:e.date,avatar:e.avatar})))},fail:e=>{t("error","at pages/index/index.vue:53","获取新闻列表失败",e)}})},openinfo(e){const t=e.currentTarget.dataset.newsid;uni.navigateTo({url:"/pages/info/info?newsid="+t})}}},[["render",function(t,a,n,o,r,i){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"header-title"},"宠物新闻")]),e.createElementVNode("view",{class:"uni-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.news,(t=>(e.openBlock(),e.createElementBlock("view",{class:"uni-list-cell","hover-class":"uni-list-cell-hover",key:t.id,onClick:a[0]||(a[0]=(...e)=>i.openinfo&&i.openinfo(...e)),"data-newsid":t.id},[e.createElementVNode("view",{class:"item-row"},[e.createElementVNode("image",{src:t.avatar,class:"avatar",mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"item-body"},[e.createElementVNode("text",{class:"item-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"item-date"},e.toDisplayString(t.date),1)])])],8,["data-newsid"])))),128))])])}],["__scopeId","data-v-a07bb3cc"]]);const o=a({data:()=>({detail:null}),onLoad(e){const t=Number(e.newsid);this.fetchDetail(t)},methods:{fetchDetail(e){uni.request({url:"https://m1.apifoxmock.com/m1/7449493-7183823-default/api/cuiyuhan/news",method:"GET",success:a=>{const n=(a.data&&a.data.newsList||[]).find((t=>t.id===e));n?this.detail=n:t("warn","at pages/info/info.vue:55","未找到对应 id 的新闻:",e)},fail:e=>{t("error","at pages/info/info.vue:59","获取新闻详情失败",e)}})},onImageError(e){t("log","at pages/info/info.vue:65","图片加载失败",e)}}},[["render",function(t,a,n,o,r,i){return e.openBlock(),e.createElementBlock("view",{class:"page"},[r.detail?(e.openBlock(),e.createElementBlock("view",{key:0,class:"header"},[e.createElementVNode("text",{class:"title"},e.toDisplayString(r.detail.title),1),e.createElementVNode("text",{class:"source"},"崔宇涵 202311000520"),e.createElementVNode("text",{class:"date"},e.toDisplayString(r.detail.date),1)])):e.createCommentVNode("",!0),r.detail&&r.detail.avatar?(e.openBlock(),e.createElementBlock("image",{key:1,src:r.detail.avatar,class:"cover",mode:"widthFix",onError:a[0]||(a[0]=(...e)=>i.onImageError&&i.onImageError(...e))},null,40,["src"])):e.createCommentVNode("",!0),r.detail?(e.openBlock(),e.createElementBlock("view",{key:2,class:"detail-content"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.detail.content,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"detail-paragraph",key:a},[e.createElementVNode("text",{class:"detail-paragraph-text"},e.toDisplayString(t),1)])))),128))])):(e.openBlock(),e.createElementBlock("view",{key:3,class:"empty"},[e.createElementVNode("text",null,"未找到这条新闻的详情")]))])}],["__scopeId","data-v-286ea669"]]);__definePage("pages/index/index",n),__definePage("pages/info/info",o);const r={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:i,Vuex:l,Pinia:s}={app:e.createVueApp(r)};uni.Vuex=l,uni.Pinia=s,i.provide("__globalStyles",__uniConfig.styles),i._component.mpType="app",i._component.render=()=>{},i.mount("#app")}(Vue);
